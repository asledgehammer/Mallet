<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">

<head>
    <meta charset="UTF-8" />
    <title>Mallet</title>

    <!-- GitHub Pages favicon.ico Fix -->
    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico?">

    <script type="text/javascript" src="vendor/luaparse/luaparse.js"></script>

    <!-- jQuery v3.7.1 -->
    <script type="text/javascript" src="vendor/jquery/3.7.1/jquery.min.js"></script>

    <!-- jQueryUI v.1.13.2 -->
    <link rel="stylesheet" href="vendor/jquery-ui/1.13.2/jquery-ui.min.css" />
    <script type="text/javascript" src="vendor/jquery-ui/1.13.2/jquery-ui.min.js"></script>
    <link rel="stylesheet" href="vendor/bs5treeview-1.2.0/dist/css/bstreeview.min.css" />
    <link rel="stylesheet" href="vendor/fontawesome/css/all.min.css" />

    <!-- Include stylesheet -->
    <link href="https://cdn.jsdelivr.net/npm/quill@2.0.0/dist/quill.snow.css" rel="stylesheet" />
    <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/quilljs-markdown@latest/dist/quilljs-markdown-common-style.css"
        rel="stylesheet" />

    <!-- <link rel="stylesheet" href="/vendor/highlight/styles/base16/synth-midnight-terminal-dark.min.css" /> -->
    <link rel="stylesheet" href="vendor/highlight/styles/felipec.min.css" />

    <!-- Compiled SCSS -->
    <link rel="stylesheet" href="assets/css/main.css" />
</head>

<body>
    <!-- [Screen] - Main Layer -->
    <div id="screen-layer-main" class="screen" style="position: relative">
        <!-- [Screen] - Sidebar -->
        <div id="screen-sidebar-container" class="screen-sidebar-start"></div>
        <!-- [Screen] - Content -->
        <div id="screen-content-container" class="screen-content-end p-4" style="overflow-y: auto;">
            <img class="img-logo" src="assets/media/logo_544.png" />
            <div id="screen-content-end-container" class="justify-content-center" style="display: flex;"></div>

            <button id="btn-card-code" class="btn btn-sm responsive-btn"
                style="z-index: 2; position: absolute; top: 1rem; right: 1rem;">
                <div class="btn-pane" style="width: 30px; height: 30px;">
                    <i id="icon-card" class="fa-regular fa-rectangle-list" style="display: none;"></i>
                    <i id="icon-code" class="fa-solid fa-code" style="display: block;"></i>
                </div>
            </button>

            <!-- New / Edit Name Modal -->
            <div id="modal-name" class="modal fade" tabindex="-1" data-bs-backdrop="static">
                <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 id="title-name" class="modal-title"></h5>
                            <button type="button" class="btn-close" style="filter: unset;" data-bs-dismiss="modal"
                                aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <div class="mb-3">
                                <label for="input-name" class="form-label mb-2">Name</label>
                                <input type="text" id="input-name" class="form-control responsive-input mt-1"
                                    spellcheck="false" />
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                            <button id="btn-name-create" type="button" class="btn btn-success">Create</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Confirm Modal -->
            <div id="modal-confirm" class="modal fade" tabindex="-1" data-bs-backdrop="static">
                <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 id="title-confirm" class="modal-title">Confirm</h5>
                            <button type="button" class="btn-close" style="filter: unset;" data-bs-dismiss="modal"
                                aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <p id="body-confirm" class="card-text">Are you sure?</p>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                            <button id="btn-confirm" type="button" class="btn btn-danger">Confirm</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Greet Modal -->
            <div id="modal-greet" class="modal fade" style="--bs-modal-width: 800px;" tabindex="-1">
                <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 id="title-confirm" class="modal-title">Mallet BETA</h5>
                        </div>
                        <div class="modal-body">
                            <p class="fs-6">
                                <strong>Mallet</strong> is a program for documenting code in <strong><a
                                        href="https://projectzomboid.com/blog/" target="_blank">Project
                                        Zomboid</a></strong>.
                                Mallet produces
                                JSON documents for the <strong><a href="https://github.com/asledgehammer/PZ-Rosetta"
                                        target="_blank">PZ-Rosetta</a></strong> framework,
                                deployed through the <strong><a href="https://github.com/asledgehammer/Umbrella"
                                        target="_blank">Umbrella</a></strong> project.

                                <strong>Mallet</strong> is currently a WIP tool and is being actively developed and
                                polished.
                                Keep in mind that there may be jerky animations (or the lack thereof), when operating
                                the tool.
                                Value checks and error-broadcasting are currently very limited. If you need to check and
                                see if
                                the tool had an error occur, use the debug console in your web browser to check for
                                errors.
                            </p>
                            <h4>Cheat Sheet</h4>
                            <ul>
                                <li>Lua Class - A pseudo-class in Lua with properties. This is the majority of Lua files
                                    in
                                    Project Zomboid's codebase.</li>
                                <li>Lua Value - A static field in Lua. Can be assigned to classes, tables.</li>
                                <li>Lua Field - A instance field in Lua. Can be assigned to classes. E.G: <span
                                        class="bg-black font-light font-monospace">self.javaObject</span></li>
                                <li>Lua Function - A static code-block in Lua that can execute. Can be assigned to Lua
                                    classes,
                                    tables.</li>
                                <li>Lua Method - A instance code-block in Lua that can executre. Can only be assigned to
                                    classes. Runs with the class <span
                                        class="bg-black font-light font-monospace">self</span>
                                    reference passed.</span></li>
                            </ul>

                            <p>Example file: <a
                                    href="https://raw.githubusercontent.com/asledgehammer/Mallet/main/assets/rosetta/patches/jab/json/client/isui/ISUIElement.json">ISUIElement.json</a>
                            </p>
                            <h4>Support</h4>
                            <p>If you like what I do and helped your community a lot, feel free to buy me a coffee!<br>
                                <a href="https://ko-fi.com/jabdoesthings target="
                                    _blank"">https://ko-fi.com/jabdoesthings</a></br>
                                <a href="https://www.paypal.com/paypalme/JabJabJab target="
                                    _blank"">https://www.paypal.com/paypalme/JabJabJab</a></br>
                            </p>
                            <p>Discord Server: <a href="https://discord.gg/u3vWvcPX8f target="
                                    _blank"">https://discord.gg/u3vWvcPX8f</a></p>
                        </div>
                        <div class="modal-footer">
                            <button id="btn-confirm" type="button" class="btn btn-primary"
                                data-bs-dismiss="modal">Accept</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Copy Button -->
            <button id="btn-code-preview-copy" class="btn btn-sm responsive-btn"
                style="display: none; position: absolute; top: 1rem; right: 4.5rem; z-index: 5" title="Copy Code">
                <div class="btn-pane">
                    <i class="fa-solid fa-copy"></i>
                </div>
            </button>

            <pre id="code-preview" class="w-100 h-100 p-4 m-0"
                style="display: none; position: absolute; background-color: black; overflow: scroll;"></pre>

            <!-- Simple Toast -->
            <div class="p-0 m-0"
                style="position: absolute; pointer-events: none; top: 0; left: 0; width: 100%; height: 100%;">
                <div id="toast-simple" class="toast text-white"
                    style="filter: saturate(0.5); position: absolute; bottom: 1rem; left: 50%; transform: translateX(-50%);"
                    role="alert" aria-live="assertive" aria-atomic="true">
                    <div class="d-flex">
                        <div id="toast-simple-body" class="toast-body"></div>
                        <button type="button" class="btn-close me-2 m-auto text-white"
                            style="filter: none !important; font-weight: bold;" data-bs-dismiss="toast"
                            aria-label="Close"></button>
                    </div>
                </div>
            </div>

            <!-- Error Toast -->
            <div class="p-0 m-0"
                style="position: absolute; pointer-events: none; top: 0; left: 0; width: 100%; height: 100%;">
                <div id="toast-error" class="toast text-white"
                    style="filter: saturate(0.5); position: absolute; bottom: 1rem; left: 50%; transform: translateX(-50%);"
                    role="alert" aria-live="assertive" aria-atomic="true">
                    <div class="d-flex">
                        <div id="toast-error-body" class="toast-body">
                            <p id="toast-error-text"></p>
                            <textarea id="toast-error-details"></textarea>
                        </div>
                        <button type="button" class="btn-close me-2 m-auto text-white"
                            style="filter: none !important; font-weight: bold;" data-bs-dismiss="toast"
                            aria-label="Close"></button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script type="text/javascript" src="vendor/ten-lines-typescript-amd-loader.js"></script>
    <script type="text/javascript" src="vendor/highlight/highlight.min.js"></script>

    <script type="text/javascript" src="vendor/bootstrap/5.3.2/js/bootstrap.bundle.js"></script>
    <script type="text/javascript" src="vendor/bs5treeview-1.2.0/dist/js/bstreeview.min.js"></script>

    <!-- Include the Quill library -->
    <script src="https://cdn.jsdelivr.net/npm/quill@2.0.0/dist/quill.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/quilljs-markdown@latest/dist/quilljs-markdown.js"></script>

    <!-- To make TypeScript happy.. -->
    <script>
        define(['highlight.js'], ["require", "exports"], function (require, exports) {
            exports.default = { ...hljs };
        });
    </script>

    <script>
        define(['luaparse'], ["require", "exports"], function (require, exports) {
            console.log(luaparse);
            exports.default = { ...luaparse };
        });
    </script>

    <script type="text/javascript" src="build/app.js"></script>

    <!-- For loading rosetta JSON files. -->
    <input type=file id="load-file" style="display: none" />
</body>

</html>